<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Ce qui bat</title>

<style>
  body {
    margin: 0;
    background: url('background.jpg') center/cover no-repeat fixed;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    gap: 40px;
  }

  /* Panneau principal (interaction) */
  #container {
    width: 320px;
    height: 320px;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.45);
    backdrop-filter: blur(12px);
    border: 3px solid rgba(255, 255, 255, 0.4);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    text-align: center;
  }

  h2 {
    margin-bottom: 15px;
    font-weight: normal;
  }

  input[type="range"] {
    width: 220px;
    margin-top: 10px;
  }

  #bpmLabel {
    margin-top: 8px;
    font-size: 14px;
    opacity: 0.85;
  }

  button {
    margin-top: 18px;
    padding: 10px 20px;
    background: #e63946;
    border: none;
    color: white;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
  }

  button:hover {
    background: #d62839;
  }

  /* Cartel de présentation */
  #cartel {
    max-width: 360px;
    background: rgba(0, 0, 0, 0.55);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.35);
    padding: 20px 22px;
    color: white;
    font-size: 14px;
    line-height: 1.5;
  }
</style>
</head>

<body>

<!-- INTERACTION -->
<div id="container">
  <h2>Ce qui bat</h2>

  <input id="speedSlider" type="range" min="30" max="200" value="60" />
  <div id="bpmLabel">60 BPM</div>

  <audio id="audio" src="coeur.mp3"></audio>
  <button id="playBtn">▶ Jouer le son</button>
</div>

<!-- CARTEL TEXTE -->
<div id="cartel">
  <strong>Ce qui bat</strong><br><br>
  Première recherche sonore autour du projet <em>Ce qui bat</em>.<br><br>
  Installation sculpturale et sonore en milieu forestier, créée dans le cadre
  de l’appel à candidature pour <em>Les Arpenteurs</em>.<br><br>
  Festival porté par la communauté d’agglomération
  <em>Cœur de Flandre</em>.
</div>

<script>
const audio = document.getElementById("audio");
const slider = document.getElementById("speedSlider");
const bpmLabel = document.getElementById("bpmLabel");
const playBtn = document.getElementById("playBtn");

const AUDIO_BASE_BPM = 60;
let playing = false;

slider.addEventListener("input", () => {
  const bpm = Number(slider.value);
  bpmLabel.textContent = bpm + " BPM";
  audio.playbackRate = bpm / AUDIO_BASE_BPM;
});

playBtn.addEventListener("click", () => {
  if (!playing) {
    audio.play();
    playing = true;
    playBtn.textContent = "⏹ Arrêter le son";
  } else {
    audio.pause();
    playing = false;
    playBtn.textContent = "▶ Jouer le son";
  }
});
</script>

</body>
</html>
